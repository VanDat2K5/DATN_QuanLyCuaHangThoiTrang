<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Sửa sản phẩm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
          rel="stylesheet"/>
</head>
<body class="bg-light">
<div class="container py-4">
    <h1 class="mb-4">Sửa sản phẩm</h1>

    <form th:action="@{|/admin/products/${productForm.maSP}/edit|}"
          th:object="${productForm}"
          method="post"
          enctype="multipart/form-data">
        <div class="mb-3">
            <label class="form-label">Mã SP</label>
            <input type="text" th:field="*{maSP}"
                   class="form-control" readonly/>
        </div>

        <div class="mb-3">
            <label class="form-label">Tên SP <span class="text-danger">*</span></label>
            <input type="text" th:field="*{tenSP}"
                   class="form-control" required/>
            <div class="text-danger" th:errors="*{tenSP}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label">Danh mục <span class="text-danger">*</span></label>
            <select th:field="*{loaiSP.maLoaiSP}"
                    class="form-select" required>
                <option value="" disabled>-- Chọn danh mục --</option>
                <option th:each="c : ${categories}"
                        th:value="${c.maLoaiSP}"
                        th:text="${c.loaiSP}">
                </option>
            </select>
            <!-- Hiển thị lỗi ngay dưới select, chỉ trên trường maLoaiSP -->
            <div class="text-danger" th:errors="*{loaiSP.maLoaiSP}"></div>
        </div>
        <div class="mb-3">
            <label class="form-label">Hình ảnh</label>
            <input type="file" name="images" multiple class="form-control"/>
        </div>
        <button type="submit" class="btn btn-primary">Cập nhật</button>
        <a th:href="@{/admin/products}" class="btn btn-secondary ms-2">Hủy</a>
    </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
