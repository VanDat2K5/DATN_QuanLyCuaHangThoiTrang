<!doctype html>
<html class="no-js" lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Đặt lại mật khẩu - Fashion Store</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="author" content="ThemeZaa">
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        <meta name="description" content="Đặt lại mật khẩu">
        <!-- favicon icon -->
        <link rel="shortcut icon" href="/images/favicon.png">
        <link rel="apple-touch-icon" href="/images/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png">
        <!-- google fonts preconnect -->
        <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <!-- style sheets and font icons  -->
        <link rel="stylesheet" href="/css/vendors.min.css"/>
        <link rel="stylesheet" href="/css/icon.min.css"/>
        <link rel="stylesheet" href="/css/style.css"/>
        <link rel="stylesheet" href="/css/responsive.css"/>
        <link rel="stylesheet" href="/demos/fashion-store/fashion-store.css" />
        
        <!-- Custom styles for validation -->
        <style>
            .form-control.is-invalid {
                border-color: #dc3545;
                box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
            }
            
            .form-control.is-invalid:focus {
                border-color: #dc3545;
                box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
            }
            
            .alert {
                border-radius: 8px;
                border: none;
                padding: 15px 20px;
            }
            
            .alert-danger {
                background-color: #f8d7da;
                color: #721c24;
                border-left: 4px solid #dc3545;
            }
            
            .alert-success {
                background-color: #d4edda;
                color: #155724;
                border-left: 4px solid #28a745;
            }
            
            .text-danger {
                color: #dc3545 !important;
            }
            
            .fs-13 {
                font-size: 13px;
            }
            
            .mb-15px {
                margin-bottom: 15px;
            }
        </style>
    </head>
    <body data-mobile-nav-style="classic">
        <div th:replace="Client/header :: header"></div>
        <!-- start section -->
        <section class="top-space-margin half-section bg-gradient-very-light-gray">
            <div class="container">
                <div class="row align-items-center justify-content-center" data-anime='{ "el": "childs", "translateY": [-15, 0], "opacity": [0,1], "duration": 300, "delay": 0, "staggervalue": 200, "easing": "easeOutQuad" }'>
                    <div class="col-12 col-xl-8 col-lg-10 text-center position-relative page-title-extra-large">
                        <h1 class="alt-font fw-600 text-dark-gray mb-10px">Đặt lại mật khẩu</h1> 
                    </div>
                    <div class="col-12 breadcrumb breadcrumb-style-01 d-flex justify-content-center">
                        <ul>
                            <li><a href="/">Trang chủ</a></li> 
                            <li>Đặt lại mật khẩu</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        <!-- end section -->
        <!-- start section -->
        <section class="pt-0">
            <div class="container">
                <div class="row g-0 justify-content-center">
                    <div class="col-xl-6 col-lg-8 col-md-10 contact-form-style-04 md-mb-50px" data-anime='{ "translateY": [0, 0], "opacity": [0,1], "duration": 600, "delay":100, "staggervalue": 150, "easing": "easeOutQuad" }'>
                        <div class="text-center mb-50px">
                            <span class="fs-26 xs-fs-24 alt-font fw-600 text-dark-gray mb-20px d-block">Tạo mật khẩu mới</span>
                            <p class="text-dark-gray">Nhập mật khẩu mới cho tài khoản của bạn</p>
                        </div>
                        
                        <!-- Error message -->
                        <div th:if="${error}" class="alert alert-danger mb-30px" role="alert">
                            <i class="feather icon-alert-circle me-2"></i>
                            <span th:text="${error}"></span>
                        </div>
                        
                        <!-- Success message -->
                        <div th:if="${success}" class="alert alert-success mb-30px" role="alert">
                            <i class="feather icon-check-circle me-2"></i>
                            <span th:text="${success}"></span>
                        </div>
                        
                        <form action="/reset-password/update" method="post" id="resetPasswordForm">
                            <input type="hidden" name="token" th:value="${token}" />
                            
                            <label class="text-dark-gray mb-10px fw-500">Mật khẩu mới<span class="text-red">*</span></label> 
                            <input class="mb-20px bg-very-light-gray form-control" type="password" name="newPassword" id="newPassword" placeholder="Nhập mật khẩu mới (ít nhất 6 ký tự)" required minlength="6" />
                            
                            <label class="text-dark-gray mb-10px fw-500">Xác nhận mật khẩu<span class="text-red">*</span></label> 
                            <input class="mb-20px bg-very-light-gray form-control" type="password" name="confirmPassword" id="confirmPassword" placeholder="Nhập lại mật khẩu mới" required minlength="6" />
                            
                            <button class="btn btn-medium btn-round-edge btn-dark-gray btn-box-shadow btn-submit w-100 mb-20px" type="submit">
                                <i class="feather icon-feather-lock me-2"></i>Đặt lại mật khẩu
                            </button>
                            
                            <div class="text-center">
                                <a href="/login" class="text-dark-gray text-decoration-line-bottom fw-500">
                                    <i class="feather icon-feather-arrow-left me-1"></i>Quay lại đăng nhập
                                </a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- end section -->
        <!-- start scroll progress -->
        <div class="scroll-progress d-none d-xxl-block">
            <a href="#" class="scroll-top" aria-label="scroll">
                <span class="scroll-text">Scroll</span><span class="scroll-line"><span class="scroll-point"></span></span>
            </a>
        </div>
        <!-- end scroll progress -->
        <!-- javascript libraries -->
        <script type="text/javascript" src="/js/jquery.js"></script>
        <script type="text/javascript" src="/js/vendors.min.js"></script>
        <script type="text/javascript" src="/js/main.js"></script>
        
        <!-- Custom validation script -->
        <script>
            $(document).ready(function() {
                // Auto-hide alerts after 5 seconds
                setTimeout(function() {
                    $('.alert').fadeOut('slow');
                }, 5000);
                
                // Password confirmation validation
                $('#resetPasswordForm').on('submit', function(e) {
                    var newPassword = $('#newPassword').val();
                    var confirmPassword = $('#confirmPassword').val();
                    
                    if (newPassword !== confirmPassword) {
                        e.preventDefault();
                        alert('Mật khẩu xác nhận không khớp!');
                        return false;
                    }
                    
                    if (newPassword.length < 6) {
                        e.preventDefault();
                        alert('Mật khẩu phải có ít nhất 6 ký tự!');
                        return false;
                    }
                });
            });
        </script>
    </body>
</html> 